import{_ as L}from"./AuthenticatedLayout-22fd5482.js";import{D as N}from"./DangerButton-5dded5e3.js";import{_ as A,T as C,Z as W,n as j,r as H,a as i,o as d,c as _,b as r,w as c,d as e,e as P,F as g,f as v,t as m,g as h,p as O,h as q}from"./app-b847fc4e.js";import{S as k}from"./sweetalert2.all-e938a770.js";import{M as z}from"./MainNav-e236d4a5.js";import{_ as F,a as R,b as U}from"./TextInput-efc03dea.js";import{P as G}from"./PrimaryButton-7b8a4adb.js";import{_ as Z}from"./SelectInput-115ca0f1.js";import{W as J}from"./WarningButton-7e72505f.js";import{_ as K,a as Q}from"./Modal-4239b41b.js";import"./ApplicationLogo-17150bae.js";import"./ResponsiveNavLink-9de50868.js";import"./NavLink-61b1fc92.js";import"./chevron-down-5630ab5c.js";const X={data(){return{form:C({class_category_id:"",name:""}),formPage:C({}),nameInput:null,modal:!1,title:"",operation:1,id_value:"",category_data:void 0,perPage:8,currentPage:1,number_pages:void 0}},props:{categories:{type:Object},class_categories:{type:Object}},created(){this.number_pages=Math.ceil(this.categories.length/this.perPage)},methods:{prevPage(){this.currentPage>1&&this.currentPage--},nextPage(){this.currentPage<this.number_pages&&this.currentPage++},goToPageNumber(t){t>=1&&t<=this.number_pages&&(setTimeout(()=>{this.scrollToTop()},100),this.currentPage=t)},scrollToTop(){window.scrollTo(0,0)},pageClick(){this.form.get(route("categories.destroy",id))},openModal(t,o,u,p){this.modal=!0,this.operation=t,this.employee_id=p,t==1?this.title="Crear":(this.title="Editar",this.form.name=o,this.form.class_category_id=u)},closeModal(){this.modal=!1,this.form.reset(),this.form.name="",this.form.class_category_id=""},save(){try{this.operation==1?this.form.post(route("categories.store"),{onSuccess:()=>{this.ok("Categoria guardada")}}):this.form.put(route("categories.update",this.employee_id),{onSuccess:()=>{this.ok("Categoria actualizada")}})}catch(t){console.log(t)}},ok(t){this.form.reset(),this.closeModal(),k.fire({title:t,icon:"success"})},deleteEmployees(t){k.fire({title:"Â¿Seguro que desea eliminar "+this.categories.name+"?",icon:"question",showCancelButton:!0,confirmButtonText:'<i class="fa-solid fa-check"></i>Si, eliminar',cancelButtonText:'<i class="fa-solid fa-ban"></i>Cancelar'}).then(o=>{o.isConfirmed&&(this.form.delete(route("categories.destroy",t)),this.ok("Categoria eliminada"))})},confirmDelete(t,o){this.categories.id=t,this.categories.name=o,this.deleteEmployees(t)}},computed:{totalPages(){return Math.ceil(this.categories.length/this.perPage)},filteredCategory:function(){if(this.categories){const t=this.perPage*(this.currentPage-1),o=t+this.perPage;return this.categories.slice(t,o)}else return[]}},components:{Head:W,MainNav:z,DangerButton:N,InputError:F,InputLabel:R,PrimaryButton:G,TextInput:U,SelectInput:Z,WarningButton:J,SecondaryButton:K,Modal:Q,nextTick:j,ref:H,AuthenticatedLayout:L}},l=t=>(O("data-v-b114e643"),t=t(),q(),t),Y={class:"py-12"},$={class:"bg-white grid v-screen place-items-center ml-24 mr-24 rounded-md"},ee={class:"mt-8 mb-3 flex"},te=l(()=>e("i",{class:"fa-solid fa-plus-circle"},null,-1)),se={class:"bg-white grid place-items-center ml-24 mr-24 pb-8"},oe={class:"table-auto border border-gray-400"},ae=l(()=>e("thead",null,[e("tr",{class:"bg-gray-100"},[e("th",{class:"px-2 py-2"},"#"),e("th",{class:"px-2 py-2"},"Categoria"),e("th",{class:"px-2 py-2"},"Categoria Sup."),e("th",{class:"px-2 py-2",colspan:"2"},"Opciones"),e("th",{class:"px-2 py-2"})])],-1)),re={class:"border border-gray-400 px-2 py-2"},ne={class:"border border-gray-400 px-2 py-2"},ie={class:"border border-gray-400 px-2 py-2"},le={class:"border border-gray-400 px-2 py-2"},ce=l(()=>e("i",{class:"fa-solid fa-edit text-white"},null,-1)),de={class:"border border-gray-400 px-2 py-2"},_e=l(()=>e("i",{class:"fa-solid fa-trash text-white"},null,-1)),me={class:"pt-1 ml-auto","aria-label":"Pagination"},ue={class:"pagination mb-0"},pe=l(()=>e("li",{class:"page-item d-sm-none"},[e("span",{class:"page-link page-link-static"},"1 / 5")],-1)),ge={class:"contain-number"},he=["disabled"],fe=l(()=>e("i",{class:"fa-solid fa-angle-left",style:{color:"#17696a"}},null,-1)),ye=[fe],be=["onClick"],xe={class:"page-link"},Ce=["disabled"],Pe=l(()=>e("i",{class:"fa-solid fa-angle-right",style:{color:"#17696a"}},null,-1)),ve=[Pe],ke={class:"p-3 text-lg font-medium text-gray-900"},Ie={class:"p-3"},Se={class:"p-3"},Be={class:"p-3"},we=l(()=>e("i",{class:"fa-solid fa-save text-white"},"Guardar",-1)),Te={class:"p-3 mt-6 flex justify-end"};function Me(t,o,u,p,a,n){const I=i("Head"),f=i("PrimaryButton"),S=i("WarningButton"),B=i("DangerButton"),y=i("InputLabel"),w=i("TextInput"),b=i("InputError"),T=i("SelectInput"),M=i("SecondaryButton"),V=i("Modal"),D=i("AuthenticatedLayout");return d(),_(g,null,[r(I,{title:"Categorias"}),r(D,null,{default:c(()=>[e("div",Y,[e("div",$,[e("div",ee,[r(f,{onClick:o[0]||(o[0]=s=>n.openModal(1))},{default:c(()=>[te,P(" Agregar ")]),_:1})])]),e("div",se,[e("table",oe,[ae,e("tbody",null,[(d(!0),_(g,null,v(n.filteredCategory,(s,x)=>(d(),_("tr",{key:s.id},[e("td",re,m(x+1),1),e("td",ne,m(s.name),1),e("td",ie,m(s.category),1),e("td",le,[r(S,{onClick:E=>n.openModal(2,s.name,s.class_category_id,s.id)},{default:c(()=>[ce]),_:2},1032,["onClick"])]),e("td",de,[r(B,{onClick:E=>n.confirmDelete(s.id,s.name)},{default:c(()=>[_e]),_:2},1032,["onClick"])])]))),128))])]),e("nav",me,[e("ul",ue,[pe,e("div",ge,[e("button",{class:h(["button-left",[a.currentPage===1?"disabled-button":""]]),onClick:o[1]||(o[1]=(...s)=>n.prevPage&&n.prevPage(...s)),disabled:a.currentPage===1},ye,10,he),(d(!0),_(g,null,v(n.totalPages,s=>(d(),_("li",{class:h(["page-item d-none d-sm-block number-page",{"active-div":s===a.currentPage}]),style:{cursor:"pointer"},"aria-current":"page",onClick:x=>n.goToPageNumber(s),key:s},[e("span",xe,m(s),1)],10,be))),128)),e("button",{class:h(["button-rigth",[a.number_pages===a.currentPage?"disabled-button":""]]),onClick:o[2]||(o[2]=(...s)=>n.nextPage&&n.nextPage(...s)),disabled:a.number_pages===a.currentPage},ve,10,Ce)])])])]),r(V,{show:a.modal,onClose:n.closeModal},{default:c(()=>[e("h2",ke,m(a.title),1),e("div",Ie,[r(y,{for:"name",value:"Nombre de Categoria: "}),r(w,{id:"name",ref:"nameInput",modelValue:a.form.name,"onUpdate:modelValue":o[3]||(o[3]=s=>a.form.name=s),type:"text",class:"mt-1 block w-3/4",placeholder:"Nombre de Categoria"},null,8,["modelValue"]),r(b,{message:a.form.errors.name,class:"mt-2"},null,8,["message"])]),e("div",Se,[r(y,{for:"class_category_id",value:"Categoria Superior: "}),r(T,{options:u.class_categories,id:"class_category_id",modelValue:a.form.class_category_id,"onUpdate:modelValue":o[4]||(o[4]=s=>a.form.class_category_id=s),class:"mt-1 block w-3/4",placeholder:"Categoria Superior"},null,8,["options","modelValue"]),r(b,{message:a.form.errors.class_category_id,class:"mt-2"},null,8,["message"])]),e("div",Be,[r(f,{disable:a.form.processing,onClick:n.save},{default:c(()=>[we]),_:1},8,["disable","onClick"])]),e("div",Te,[r(M,{class:"ml-3",disabled:a.form.processing,onClick:n.closeModal},{default:c(()=>[P(" Cancel ")]),_:1},8,["disabled","onClick"])])]),_:1},8,["show","onClose"])])]),_:1})],64)}const Ue=A(X,[["render",Me],["__scopeId","data-v-b114e643"]]);export{Ue as default};
