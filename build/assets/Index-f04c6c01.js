import{M as k}from"./MainNav3-77ccefa3.js";import{B as C}from"./BaseSelectGeneric-5e726074.js";import{_ as x,Z as w,a as _,o as r,c,b as h,d as e,t as d,j as g,k as S,v as T,w as N,F as u,f as p,i as F,g as m}from"./app-b847fc4e.js";import{_ as M}from"./SelectInput-115ca0f1.js";import{F as B}from"./Footer-071d1705.js";import"./chevron-down-5630ab5c.js";import"./NavLink-61b1fc92.js";import"./ResponsiveNavLink-9de50868.js";const A={data(){return{currentPage:1,totalProductsForCategory:0,perPage:12,filter_category:{search_category:0},filter:{search_name_product:""},currentPage:1,number_pages:void 0,subcategoryOptions:void 0,filteredProducts:void 0,id_sub:void 0}},components:{MainNav3:k,BaseSelectGeneric:C,Head:w,SelectInput:M,Footer:B},props:{products:{type:Object},category:{type:String},category_list:{type:Array},subcategory:{type:String},subcategory_id:{type:Number}},created(){console.log("este es el producto by category ",this.products),console.log(this.category),console.log(this.category_list),console.log(this.subcategory),console.log(this.subcategory_id),this.number_pages=Math.ceil(this.products.length/this.perPage),this.category_list.unshift({id:0,name:"Todas las subcategorías"}),this.filterProductsBySubcategory()},computed:{totalPages(){return Math.ceil(this.totalProductsForCategory/this.perPage)},filteredProducByCategory:function(){if(this.filteredProducts){console.log(this.filteredProducts);const a=this.perPage*(this.currentPage-1),o=a+this.perPage;let s="";this.id_sub==null?s=this.filteredProducts:s=this.products;const l=Number(this.filter_category.search_category);return l!==0?s=s.filter(i=>i.subcategory_id===l):this.totalProductsForCategory=0,this.filter.search_name_product&&(l!==0?s=s.filter(i=>i.name.toLowerCase().includes(this.filter.search_name_product.toLowerCase())):s=this.products.filter(i=>i.name.toLowerCase().includes(this.filter.search_name_product.toLowerCase()))),this.totalProductsForCategory=s.length,s.slice(a,o)}else return[]}},methods:{openGetInfoByWhatsapp(a){let o="https://bikeperushop.pe/product/bottom-bracket-sram-dub-bsa-68-73mm-a-granel/",s=`Hola+Bicizona+estoy+interesado+en+este+producto *+${a.name}+*%0AURL: %20${o}`;console.log(a),console.log(s);let l=`https://api.whatsapp.com/send?phone=51997315973&text=${s}`;window.open(l,"_blank")},redirectToProductDetails(a,o){this.$inertia.visit(route("product.details",{category:a,id:o.id}))},prevPage(){this.currentPage>1&&this.currentPage--},nextPage(){this.currentPage<this.number_pages&&this.currentPage++},goToPageNumber(a){a>=1&&a<=this.number_pages&&(setTimeout(()=>{this.scrollToTop()},100),this.currentPage=a)},scrollToTop(){window.scrollTo(0,0)},filterProductsBySubcategory(a){console.log(a),this.id_sub=a,this.id_sub==null&&(this.subcategory_id>0?this.filteredProducts=this.products.filter(o=>o.subcategory_id===this.subcategory_id):this.filteredProducts=this.products)}}},L={id:"category_product"},V={class:"section-product"},D={class:"section-box-title"},I={class:"title-category"},H={key:0},q={key:1},z={key:2},O={class:"list-documents"},R={class:"section-title"},j={class:"title-subtitle"},E={class:"box-filter"},G={class:"search-ads"},U={class:"control has-icons-left"},W=e("span",{class:"icon is-small is-left"},[e("i",{class:"fa fa-search"})],-1),Z={class:"box-select-filter"},J=e("option",{value:null},"Seleccionar una categoría",-1),K=["value"],Q={class:"box-documents"},X=["onClick"],Y={class:"box-data-document"},$=["src"],ee={class:"data-product"},te={class:"title-item"},se={class:"title-price"},oe=["onClick"],ie={class:"pt-1 ml-auto","aria-label":"Pagination"},ae={class:"pagination mb-0"},re=e("li",{class:"page-item d-sm-none"},[e("span",{class:"page-link page-link-static"},"1 / 5")],-1),ce={class:"contain-number"},ne=["disabled"],le=e("i",{class:"fa-solid fa-angle-left",style:{color:"#17696a"}},null,-1),de=[le],ue=["onClick"],_e={class:"page-link"},he=["disabled"],ge=e("i",{class:"fa-solid fa-angle-right",style:{color:"#17696a"}},null,-1),pe=[ge],me={key:0,class:"document-list-searched"},fe=e("div",{class:"box-document-empty"}," No se encontraron productos con relación a su busqueda ",-1),ye=[fe],be={key:1,class:"document-list-searched"},Pe=e("div",{class:"box-document-empty"}," Aun no se ha subido ningún producto ",-1),ve=[Pe];function ke(a,o,s,l,n,i){const y=_("Head"),b=_("MainNav3"),P=_("SelectInput"),v=_("Footer");return r(),c(u,null,[h(y,{title:s.category},null,8,["title"]),h(b),e("div",L,[e("div",V,[e("div",D,[e("h2",I,d(s.category),1),s.category=="CASCOS"?(r(),c("p",H,'"Protege tu cabeza con estilo. Encuentra el casco que se adapte a tu tipo de ciclismo y personalidad."')):g("",!0),s.category=="HIDRATACIÓN"?(r(),c("p",q,'"Mantente en movimiento con nuestras botellas, porta botellas y mochilas diseñadas para hidratarte en cualquier aventura."')):g("",!0),s.category=="INFANTIL"?(r(),c("p",z,'"El viaje comienza temprano. Desde los primeros paseos hasta las primeras carreras, nuestras bicicletas infantiles crecen contigo."')):g("",!0)]),e("div",O,[e("div",R,[e("div",j,[e("span",null,d(s.category),1)]),e("div",E,[e("div",G,[e("div",U,[S(e("input",{autocomplete:"off",class:"input",type:"text",placeholder:"Busca tu producto aqui",style:{height:"40px"},"onUpdate:modelValue":o[0]||(o[0]=t=>n.filter.search_name_product=t)},null,512),[[T,n.filter.search_name_product,void 0,{trim:!0}]]),W])]),e("div",Z,[h(P,{class:"select-category",options:s.category_list,id:"department_id",modelValue:n.filter_category.search_category,"onUpdate:modelValue":o[1]||(o[1]=t=>n.filter_category.search_category=t),onChange:o[2]||(o[2]=t=>i.filterProductsBySubcategory(n.filter_category.search_category))},{default:N(()=>[J,(r(!0),c(u,null,p(s.category_list,t=>(r(),c("option",{key:t.id,value:t.id},d(t.name),9,K))),128))]),_:1},8,["options","modelValue"])])])]),i.filteredProducByCategory.length?(r(),c(u,{key:0},[e("div",Q,[(r(!0),c(u,null,p(i.filteredProducByCategory,t=>(r(),c("div",{class:"document-item",key:t.id,onClick:f=>i.redirectToProductDetails(s.category,t)},[e("div",Y,[e("img",{src:t.images.length>0?t.images[0].image_path:t.image,alt:"",class:"img-preview"},null,8,$),e("div",ee,[e("h2",te,d(t.name),1),e("h2",se,"S/. "+d(t.price),1),e("a",{class:"button-show",onClick:F(f=>i.openGetInfoByWhatsapp(t),["stop"])},"Consultar por Whatsapp",8,oe)])])],8,X))),128))]),e("nav",ie,[e("ul",ae,[re,e("div",ce,[e("button",{class:m(["button-left",[n.currentPage===1?"disabled-button":""]]),onClick:o[3]||(o[3]=(...t)=>i.prevPage&&i.prevPage(...t)),disabled:n.currentPage===1},de,10,ne),(r(!0),c(u,null,p(i.totalPages,t=>(r(),c("li",{class:m(["page-item d-none d-sm-block number-page",{"active-div":t===n.currentPage}]),style:{cursor:"pointer"},"aria-current":"page",onClick:f=>i.goToPageNumber(t),key:t},[e("span",_e,d(t),1)],10,ue))),128)),e("button",{class:m(["button-rigth",[n.number_pages===n.currentPage?"disabled-button":""]]),onClick:o[4]||(o[4]=(...t)=>i.nextPage&&i.nextPage(...t)),disabled:n.number_pages===n.currentPage},pe,10,he)])])])],64)):(r(),c(u,{key:1},[s.products?(r(),c("div",me,ye)):(r(),c("div",be,ve))],64))])])]),h(v)],64)}const Be=x(A,[["render",ke]]);export{Be as default};
