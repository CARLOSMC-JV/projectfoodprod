import{_ as L}from"./AuthenticatedLayout-22fd5482.js";import{D as N}from"./DangerButton-5dded5e3.js";import{_ as A,T as P,Z as W,n as H,r as O,a as i,o as d,c as u,b as r,w as c,d as e,e as v,F as g,f as k,t as m,g as h,p as j,h as q}from"./app-b847fc4e.js";import{S as C}from"./sweetalert2.all-e938a770.js";import{M as z}from"./MainNav-e236d4a5.js";import{_ as F,a as R,b as U}from"./TextInput-efc03dea.js";import{P as G}from"./PrimaryButton-7b8a4adb.js";import{_ as Z}from"./SelectInput-115ca0f1.js";import{W as J}from"./WarningButton-7e72505f.js";import{_ as K,a as Q}from"./Modal-4239b41b.js";import"./ApplicationLogo-17150bae.js";import"./ResponsiveNavLink-9de50868.js";import"./NavLink-61b1fc92.js";import"./chevron-down-5630ab5c.js";const X={data(){return{form:P({category_id:"",name:"",slug:""}),formPage:P({}),nameInput:null,modal:!1,title:"",operation:1,id_value:"",perPage:8,currentPage:1,number_pages:void 0}},props:{subcategories:{type:Object},categories:{type:Object}},created(){this.number_pages=Math.ceil(this.categories.length/this.perPage)},methods:{prevPage(){this.currentPage>1&&this.currentPage--},nextPage(){this.currentPage<this.number_pages&&this.currentPage++},goToPageNumber(t){t>=1&&t<=this.number_pages&&(setTimeout(()=>{this.scrollToTop()},100),this.currentPage=t)},scrollToTop(){window.scrollTo(0,0)},pageClick(){this.form.get(route("subcategories.destroy",id))},openModal(t,s,_,p){this.modal=!0,this.operation=t,this.employee_id=p,t==1?this.title="Crear":(this.title="Editar",this.form.name=s,this.form.category_id=_)},closeModal(){this.modal=!1,this.form.reset(),this.form.name="",this.form.slug="",this.form.category_id=""},save(){try{console.log(this.operation),this.operation==1?this.form.post(route("subcategories.store"),{onSuccess:()=>{this.ok("Subcategoria guardada")}}):this.form.put(route("subcategories.update",this.employee_id),{onSuccess:()=>{this.ok("Subcategoria actualizada")}})}catch(t){console.log(t)}},ok(t){console.log(t),this.form.reset(),this.closeModal(),C.fire({title:t,icon:"success"})},deleteEmployees(t){console.log(t),C.fire({title:"Â¿Seguro que desea eliminar "+this.subcategories.name+"?",icon:"question",showCancelButton:!0,confirmButtonText:'<i class="fa-solid fa-check"></i>Si, eliminar',cancelButtonText:'<i class="fa-solid fa-ban"></i>Cancelar'}).then(s=>{console.log(s),s.isConfirmed&&(this.form.delete(route("subcategories.destroy",t)),this.ok("Subcategoria eliminada"))})},confirmDelete(t,s){console.log(t),this.subcategories.id=t,this.subcategories.name=s,this.deleteEmployees(t)}},computed:{totalPages(){return Math.ceil(this.subcategories.length/this.perPage)},filteredSubCategory:function(){if(this.subcategories){const t=this.perPage*(this.currentPage-1),s=t+this.perPage;return this.subcategories.slice(t,s)}else return[]}},components:{Head:W,MainNav:z,DangerButton:N,InputError:F,InputLabel:R,PrimaryButton:G,TextInput:U,SelectInput:Z,WarningButton:J,SecondaryButton:K,Modal:Q,nextTick:H,ref:O,AuthenticatedLayout:L}},l=t=>(j("data-v-7d589fc4"),t=t(),q(),t),Y={class:"py-12"},$={class:"bg-white grid v-screen place-items-center ml-24 mr-24 rounded-md"},ee={class:"mt-8 mb-3 flex"},te=l(()=>e("i",{class:"fa-solid fa-plus-circle"},null,-1)),oe={class:"bg-white grid place-items-center ml-24 mr-24 pb-8"},se={class:"table-auto border border-gray-400"},ae=l(()=>e("thead",null,[e("tr",{class:"bg-gray-100"},[e("th",{class:"px-2 py-2"},"#"),e("th",{class:"px-2 py-2"},"Subcategoria"),e("th",{class:"px-2 py-2"},"Categoria"),e("th",{class:"px-2 py-2",colspan:"2"},"Opciones"),e("th",{class:"px-2 py-2"})])],-1)),re={class:"border border-gray-400 px-2 py-2"},ne={class:"border border-gray-400 px-2 py-2"},ie={class:"border border-gray-400 px-2 py-2"},le={class:"border border-gray-400 px-2 py-2"},ce=l(()=>e("i",{class:"fa-solid fa-edit text-white"},null,-1)),de={class:"border border-gray-400 px-2 py-2"},ue=l(()=>e("i",{class:"fa-solid fa-trash text-white"},null,-1)),me={class:"pt-1 ml-auto","aria-label":"Pagination"},_e={class:"pagination mb-0"},pe=l(()=>e("li",{class:"page-item d-sm-none"},[e("span",{class:"page-link page-link-static"},"1 / 5")],-1)),ge={class:"contain-number"},he=["disabled"],fe=l(()=>e("i",{class:"fa-solid fa-angle-left",style:{color:"#17696a"}},null,-1)),be=[fe],ye=["onClick"],xe={class:"page-link"},Pe=["disabled"],ve=l(()=>e("i",{class:"fa-solid fa-angle-right",style:{color:"#17696a"}},null,-1)),ke=[ve],Ce={class:"p-3 text-lg font-medium text-gray-900"},Se={class:"p-3"},Ie={class:"p-3"},Be={class:"p-3"},we=l(()=>e("i",{class:"fa-solid fa-save text-white"},"Guardar",-1)),Te={class:"p-3 mt-6 flex justify-end"};function Me(t,s,_,p,a,n){const S=i("Head"),f=i("PrimaryButton"),I=i("WarningButton"),B=i("DangerButton"),b=i("InputLabel"),w=i("TextInput"),y=i("InputError"),T=i("SelectInput"),M=i("SecondaryButton"),V=i("Modal"),D=i("AuthenticatedLayout");return d(),u(g,null,[r(S,{title:"Subcategorias"}),r(D,null,{default:c(()=>[e("div",Y,[e("div",$,[e("div",ee,[r(f,{onClick:s[0]||(s[0]=o=>n.openModal(1))},{default:c(()=>[te,v(" Agregar ")]),_:1})])]),e("div",oe,[e("table",se,[ae,e("tbody",null,[(d(!0),u(g,null,k(n.filteredSubCategory,(o,x)=>(d(),u("tr",{key:o.id},[e("td",re,m(x+1),1),e("td",ne,m(o.name),1),e("td",ie,m(o.category),1),e("td",le,[r(I,{onClick:E=>n.openModal(2,o.name,o.category_id,o.id)},{default:c(()=>[ce]),_:2},1032,["onClick"])]),e("td",de,[r(B,{onClick:E=>n.confirmDelete(o.id,o.name)},{default:c(()=>[ue]),_:2},1032,["onClick"])])]))),128))])]),e("nav",me,[e("ul",_e,[pe,e("div",ge,[e("button",{class:h(["button-left",[a.currentPage===1?"disabled-button":""]]),onClick:s[1]||(s[1]=(...o)=>n.prevPage&&n.prevPage(...o)),disabled:a.currentPage===1},be,10,he),(d(!0),u(g,null,k(n.totalPages,o=>(d(),u("li",{class:h(["page-item d-none d-sm-block number-page",{"active-div":o===a.currentPage}]),style:{cursor:"pointer"},"aria-current":"page",onClick:x=>n.goToPageNumber(o),key:o},[e("span",xe,m(o),1)],10,ye))),128)),e("button",{class:h(["button-rigth",[a.number_pages===a.currentPage?"disabled-button":""]]),onClick:s[2]||(s[2]=(...o)=>n.nextPage&&n.nextPage(...o)),disabled:a.number_pages===a.currentPage},ke,10,Pe)])])])]),r(V,{show:a.modal,onClose:n.closeModal},{default:c(()=>[e("h2",Ce,m(a.title),1),e("div",Se,[r(b,{for:"name",value:"Nombre de Subcategoria: "}),r(w,{id:"name",ref:"nameInput",modelValue:a.form.name,"onUpdate:modelValue":s[3]||(s[3]=o=>a.form.name=o),type:"text",class:"mt-1 block w-3/4",placeholder:"Nombre de Subcategoria"},null,8,["modelValue"]),r(y,{message:a.form.errors.name,class:"mt-2"},null,8,["message"])]),e("div",Ie,[r(b,{for:"category_id",value:"Categoria: "}),r(T,{options:_.categories,id:"category_id",modelValue:a.form.category_id,"onUpdate:modelValue":s[4]||(s[4]=o=>a.form.category_id=o),class:"mt-1 block w-3/4",placeholder:"Categoria"},null,8,["options","modelValue"]),r(y,{message:a.form.errors.category_id,class:"mt-2"},null,8,["message"])]),e("div",Be,[r(f,{disable:a.form.processing,onClick:n.save},{default:c(()=>[we]),_:1},8,["disable","onClick"])]),e("div",Te,[r(M,{class:"ml-3",disabled:a.form.processing,onClick:n.closeModal},{default:c(()=>[v(" Cancel ")]),_:1},8,["disabled","onClick"])])]),_:1},8,["show","onClose"])])]),_:1})],64)}const Ue=A(X,[["render",Me],["__scopeId","data-v-7d589fc4"]]);export{Ue as default};
